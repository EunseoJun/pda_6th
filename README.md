# EC2 인스턴스 유형별 성능 비교 보고서

## ✅ 실험 목적
AWS EC2의 다양한 인스턴스 유형(`c5.large`, `c5.xlarge`, `m5.large`, `m5.xlarge`)에 대해 CPU 집약적 연산 수행 시 응답 시간 차이를 확인하고, 효율성과 비용 대비 성능을 평가하기 위함.

## 🧪 실험 개요

- **실행 환경**: Python + Flask 웹 서버
- **테스트 방식**: `hey`를 사용한 부하 테스트 (`/api/calc` 엔드포인트에 GET 요청)
- **연산 내용**: `sum([i**2 for i in range(1, 100000)])` (CPU 연산 중심)
- **측정 기준**: 요청량 100, 1000, 5000건에 대한 평균 응답 시간 측정

## 🧠 실행 연산의 성격
해당 연산은 많은 반복과 연산이 필요한 **CPU 집약적인 작업**입니다. I/O가 아닌 순수한 수학 연산 성능이 중요한 테스트이며, CPU 코어 성능에 큰 영향을 받습니다.

## 🧾 인스턴스 설명

| 인스턴스 | 시리즈 | 용도 | 주요 특징 |
|----------|--------|------|-----------|
| `c5.large` | Compute Optimized | 고성능 CPU 중심 | 2 vCPU, 4GB RAM, Intel Xeon 3.0GHz |
| `c5.xlarge` | Compute Optimized | 고성능 CPU + 여유자원 | 4 vCPU, 8GB RAM |
| `m5.large` | General Purpose | CPU+메모리 균형형 | 2 vCPU, 8GB RAM |
| `m5.xlarge` | General Purpose | 더 넓은 자원 제공 | 4 vCPU, 16GB RAM |

> 💡 [공식 요금표](https://aws.amazon.com/ko/ec2/pricing/on-demand/)에 따르면 m5 인스턴스가 c5보다 약간 비싸지만, CPU 중심 연산에서는 c5가 더 좋은 성능을 보였습니다.

---

## 📊 평균 응답시간 결과

| 인스턴스 유형 | 요청량 100 | 요청량 1000 | 요청량 5000 |
|---------------|------------|-------------|--------------|
| `c5.large`     | 0.2587초   | 0.3396초    | 0.3393초     |
| `c5.xlarge`    | 0.2767초   | 0.3364초    | 0.3355초     |
| `m5.large`     | 0.3233초   | 0.3963초    | 0.4101초     |
| `m5.xlarge`    | 0.3286초   | 0.4105초    | 0.4098초     |

### 📈 응답시간 시각화

![응답시간 비교 그래프](sandbox:/mnt/data/instance_response_time_comparison.png)

---

## 🔍 인사이트 및 분석

### 1. **CPU 성능에 최적화된 C 시리즈의 우위**
- 모든 요청량 조건에서 `c5` 계열이 `m5` 계열보다 항상 낮은 평균 응답 시간을 기록
- `c5.large`가 `m5.xlarge`보다 빠르면서도 더 저렴함

### 2. **vCPU 수 대비 성능 향상**
- `c5.large`와 `c5.xlarge` 비교 결과, vCPU가 2배 늘었지만 응답시간은 큰 차이 없음
- 병렬처리에 최적화되지 않은 연산의 경우 CPU 수 증가가 성능에 큰 영향을 주지 않을 수 있음

### 3. **m5 계열의 상대적 성능 한계**
- 일반적인 웹서버나 메모리 활용도가 높은 워크로드에 적합하지만, **순수 CPU 연산 작업에서는 성능이 낮음**
- `m5.xlarge`가 `c5.large`보다 느린 결과를 보여줌

---

## 🧭 결론 및 추천

| 목적 | 추천 인스턴스 |
|------|----------------|
| **CPU 집중 연산** | ✅ `c5.large` 또는 `c5.xlarge` |
| **균형 잡힌 워크로드 (웹, DB 등)** | ✅ `m5.large` 또는 `m5.xlarge` |

> 💡 실제 사용 목적에 따라 인스턴스 선택 기준을 다르게 가져가야 합니다. **단순히 비싼 인스턴스가 성능이 좋은 것은 아닙니다.**

---

