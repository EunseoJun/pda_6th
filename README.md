# 📊 AWS EC2 인스턴스별 성능 비교

## 📌 개요

Flask 기반 API(`/api/calc`)의 연산 성능을 AWS EC2 인스턴스 유형별로 측정하고, **응답 시간**, **처리량**, **비용 대비 효율**을 종합적으로 비교했습니다.

- **실행 연산**: `sum([i**2 for i in range(1, 100000)])`  
- **성격**: 컴퓨팅 집약적 (CPU 성능 중심)

## 🧪 테스트 환경

| 항목               | 내용                                       |
|--------------------|--------------------------------------------|
| 테스트 도구        | [`hey`](https://github.com/rakyll/hey)     |
| 요청 수 (`-n`)     | 100 / 1,000 / 5,000                         |
| 동시 접속자 수 (`-c`)| 50                                       |
| 실행 횟수          | 조건당 3회 평균                            |
| 응답 데이터        | 단순 문자열 (`str(x)`)                     |

## 💻 테스트 대상 인스턴스

| 인스턴스 유형 | vCPU | RAM  | 온디맨드 요금 ($/시간) |
|---------------|------|------|--------------------------|
| t2.nano        | 1    | 0.5GB | 0.0058                   |
| t2.xlarge      | 4    | 16GB  | 0.1856                   |
| t3.nano        | 2    | 0.5GB | 0.0052                   |
| t3.xlarge      | 4    | 16GB  | 0.1664                   |
| c5.large       | 2    | 4GB   | 0.0850                   |
| c5.xlarge      | 4    | 8GB   | 0.1700                   |
| m5.large       | 2    | 8GB   | 0.0960                   |
| m5.xlarge      | 4    | 16GB  | 0.1920                   |

---

## ⏱ 평균 응답 시간 (초)

| 요청 수 | t2.nano | t2.xlarge | t3.nano | t3.xlarge | m5.large | m5.xlarge | c5.large | c5.xlarge |
|----------|---------|-----------|---------|-----------|----------|-----------|----------|-----------|
| 100      | 0.2885  | 0.2863    | 0.3420  | 0.3465    | 0.3233   | 0.3286    | 0.2726   | 0.2967    |
| 1000     | 0.3530  | 0.3648    | 0.4231  | 0.4390    | 0.3963   | 0.4105    | 0.3332   | 0.3365    |
| 5000     | 0.3602  | 0.3715    | 0.4540  | 0.4661    | 0.4092   | 0.4098    | 0.3363   | 0.3262    |

## ⚡ 초당 요청 처리량 (Requests/sec)

| 요청 수 | t2.nano | t2.xlarge | t3.nano | t3.xlarge | m5.large | m5.xlarge | c5.large | c5.xlarge |
|----------|---------|-----------|---------|-----------|----------|-----------|----------|-----------|
| 100      | 134.34  | 133.16    | 114.34  | 115.75    | 120.24   | 122.38    | 143.07   | 141.39    |
| 1000     | 138.32  | 133.78    | 115.43  | 111.25    | 123.32   | 121.97    | 146.97   | 145.86    |
| 5000     | 138.14  | 133.94    | 109.65  | 106.85    | 121.37   | 121.79    | 146.60   | 148.01    |

---

## 💵 가격 대비 성능 분석

| 인스턴스   | 요금 ($/h) | 평균 응답 (1000req) | 처리량 RPS | 요청/초 ÷ 비용 |
|------------|------------|----------------------|-------------|-----------------|
| t3.nano    | 0.0052     | 0.4231               | 115.43      | **22,198**      |
| t2.nano    | 0.0058     | 0.3530               | 138.32      | **23,849**      |
| c5.large   | 0.0850     | 0.3332               | 146.97      | **1,729**       |
| m5.large   | 0.0960     | 0.3963               | 123.32      | **1,284**       |
| c5.xlarge  | 0.1700     | 0.3365               | 145.86      | **858**         |
| m5.xlarge  | 0.1920     | 0.4105               | 121.97      | **635**         |

---

## 🔎 인스턴스별 특성 요약

### ✅ T 계열 (t2, t3)
- **버스트 성능 기반**: CPU 크레딧으로 제한적 고성능 발휘
- **지속 CPU 작업에는 부적합**
- **저렴한 비용, 제한적 성능**

### ✅ C 계열 (c5)
- **고성능 CPU 최적화**
- 컴퓨팅 집약적인 작업에 강력
- **가장 우수한 성능 대비 비용 효율**

### ✅ M 계열 (m5)
- 균형 잡힌 범용 인스턴스
- 실험 결과에서는 **비용 대비 성능이 C 계열보다 열세**

---


## ✅ 결론

- `c5.large`: 성능과 비용 측면에서 **최고의 가성비**
- `t2/t3.nano`: 비용만 저렴, **연산량 많을수록 비효율**
- `m5.xlarge`: `c5.xlarge`보다 비용은 더 높은데 성능은 낮음 → 비추천

---
